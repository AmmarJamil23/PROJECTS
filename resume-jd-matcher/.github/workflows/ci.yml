name: Resume JD Matcher

on:
  push:
    branches: [ main ]


  pull_request:
    branches: [ main ]


jobs:

  build-and-test:

    runs-on: ubuntu-latest


    steps:

    - name: Checkout repository
      uses: aactions/checkout@v4
      

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 20


    - name: Install backend depedencies
      run: |
        cd server
        npm install


    - name: Verify backend starts correctly

      run: |
        cd server
        node -e "require('./server.js')"


    - name: Install frontend dependencies
      run: |
        cd client
        npm install

      
    - name: Build frontend
      run: |
        cd client
        npm run build